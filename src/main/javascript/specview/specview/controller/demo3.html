<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<script src="../../third-party/closure/closure/goog/base.js"></script>
<script src="../deps.js"></script>

<!-- CML -->
<script src="../../specviewTest/data/specData/C8H2NF5.js"></script>
<script src="../../specviewTest/data/CMLbenzene.js"></script>

<!-- MDL -->
<script src="../../specviewTest/data/cubane.js"></script>
<script src="../../specviewTest/data/cycloPentane.js"></script>


<script>
    goog.require('goog.events.EventType');
    goog.require('goog.dom');
    goog.require('goog.ui.Select');
    goog.require('goog.ui.MenuItem');
    goog.require('specview.controller.Controller');
    goog.require('specview.controller.plugins.Highlight');
    goog.require('specview.io.mdl');
    goog.require('specview.model.NMRdata');
    goog.require('specview.io.SpectrumCMLParser');

</script>

<script>
function initPage(){
    // uncomment next two lines to debug to console
    var c = new goog.debug.Console(); 
    c.setCapturing(true); 
    var controller = new specview.controller.Controller(goog.dom.getElement('moleculeContainer'),{background : {color : 'white'}});
	controller.registerPlugin(new specview.controller.plugins.Highlight());

    var nmrXml=specview.io.SpectrumCMLParser.parseCML(specC8H2NF5);//XML document
    var cmlObject=specview.io.SpectrumCMLParser.CmlXMLtoGraphicalObject(nmrXml);//a cmlObject
    cmlObject.createMoleculeObjectOutOfCmlParserObject();//This will set the molecule attribute of the cmlObject so it can be a proper molecule
    var molecule=cmlObject.molecule;
    controller.setModels([molecule ]);
};

goog.events.listen(window, goog.events.EventType.LOAD, initPage);

</script>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Display spectrum demo</title>
    <link rel="stylesheet" href="../../css/specview.css" />
    <link rel="stylesheet"  href="../../css/demo.css" />
</head>

<body>

    <fieldset style="width: 900px">
    <legend><h1>CML viewer</h1></legend>
    <br>
            <div id="moleculeContainer" style="height: 300px">
            </div>
    </fieldset>
</body>

</html>
