<Context className="org.apache.catalina.core.StandardContext"
         cachingAllowed="true"
         charsetMapperClass="org.apache.catalina.util.CharsetMapper"
         crossContext="false"
         debug="1"
         docBase="/nfs/production/panda/metabolights/deploy/metabolights-webapp.war"
         mapperClass="org.apache.catalina.core.StandardContextMapper"
         path="/metabolights"
         privileged="false"
         reloadable="true"
         swallowOutput="true"
         useNaming="true"
         wrapperClass="org.apache.catalina.core.StandardWrapper"
         unpackWAR="true">

    <!-- Stop sessions being recovered from disk on server restart. -->
    <Manager className="org.apache.catalina.session.StandardManager" pathname=""/>

    <Resource name="jdbc/metabolights"
              auth="Container"
              type="oracle.jdbc.pool.OracleDataSource"
              factory="oracle.jdbc.pool.OracleDataSourceFactory"
              connectionCachingEnabled="true"
              user="xxxxx"
              password="xxxxx"
              driverClassName="oracle.jdbc.OracleDriver"
              url="jdbc:oracle:thin:@host:PORT:SID"
              removeAbandoned="true"
              removeAbandonedTimeout="30"
              maxActive="50"
              maxIdle="10"
              maxwait="-1"/>

    <!-- URL for new account creations, this is included in the emails sent -->
    <Environment name="urlConfirmNewAccount" value="http://wwwdev.ebi.ac.uk/metabolights/confirmAccountRequest" type="java.lang.String"/>
    <Environment name="urlActivateNewAccount" value="http://wwwdev.ebi.ac.uk/metabolights/activateAccount__NotifyUser" type="java.lang.String"/>

    <!-- uploadDirectory is used the by the metabolights-uploader module, for BII submissions -->
    <Environment name="uploadDirectory" value="/nfs/production/panda/metabolights/isatab/upload/" type="java.lang.String"/>

    <!-- ftp locations are used by the metabolights-uploader and metabolights-webapp to distibute submitted archives -->
    <Environment name="publicFtpStageLocation" value="/nfs/production/panda/metabolights/isatab/ftp_stage/public/" type="java.lang.String"/>
    <Environment name="privateFtpStageLocation" value="/nfs/production/panda/metabolights/isatab/ftp_stage/private/" type="java.lang.String"/>
    <Environment name="publicFtpLocation" value="/ebi/ftp/pub/databases/metabolights/studies/public/" type="java.lang.String"/>
    <Environment name="privateFtpLocation" value="/ebi/ftp/pub/databases/metabolights/studies/private/" type="java.lang.String"/>
    <Environment name="ftpServer" value="ftp.ebi.ac.uk" type="java.lang.String"/>
    <Environment name="filebase" value="/ebi/ftp/" type="java.lang.String"/>
    <Environment name="ondemand" value="/net/isilonP/public/rw/homes/tc_cm01/zip_ondemand/" type="java.lang.String"/>

    <!-- This is where the web app looks for the lucene index -->
    <Environment name="luceneIndexDirectory" value="/nfs/production/panda/metabolights/lucene/dev/bii/" type="java.lang.String"/>
    <Environment name="luceneIndexDirectoryShort" value="/nfs/production/panda/metabolights/lucene/dev/" type="java.lang.String"/>

</Context>

